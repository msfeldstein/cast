*{margin:0;padding:0;box-sizing:border-box}html,body,#root{width:100%;height:100%;overflow:hidden;background:#1a1a1a;color:#e0e0e0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif}.app{width:100%;height:100%;display:flex;overflow:hidden}.panel-manager{display:flex;width:100%;height:100%;background:#1a1a1a;overflow:hidden;--main-split: 60%;--layer1-height: 35%;--layer2-height: 35%;--bottom-height: 30%;--divider-size: 6px}.panel-column{display:flex;flex-direction:column;overflow:hidden}.panel-column-left{width:var(--main-split);flex-shrink:0}.panel-column-right{flex:1;min-width:0}.panel-slot{overflow:hidden;position:relative}.panel-slot-layer1{height:var(--layer1-height);flex-shrink:0}.panel-slot-layer2{height:var(--layer2-height);flex-shrink:0}.panel-slot-bottom{flex:1;min-height:0}.divider-vertical-main,.divider-horizontal-1,.divider-horizontal-2{background:#333;flex-shrink:0;position:relative;z-index:10}.divider-vertical-main{width:var(--divider-size);cursor:col-resize}.divider-horizontal-1,.divider-horizontal-2{height:var(--divider-size);cursor:row-resize}.divider-vertical-main:hover,.divider-horizontal-1:hover,.divider-horizontal-2:hover,.divider.dragging,.divider-vertical-main:active,.divider-horizontal-1:active,.divider-horizontal-2:active{background:#888}.divider{background:transparent;transition:background-color .1s}.divider-vertical{width:100%;height:100%;cursor:col-resize}.divider-horizontal{width:100%;height:100%;cursor:row-resize}.divider:hover,.divider.dragging{background:#888}.panel{display:flex;flex-direction:column;width:100%;height:100%;background:#1e1e1e;overflow:hidden;position:relative}.panel-tab-bar{display:flex;background:#252525;border-bottom:1px solid #333;flex-shrink:0;height:32px;overflow-x:auto}.panel-tab-bar::-webkit-scrollbar{height:4px}.panel-tab-bar::-webkit-scrollbar-thumb{background:#444}.panel-tab{position:relative;padding:0 16px;height:100%;background:transparent;border:none;color:#888;font-size:12px;font-weight:500;cursor:pointer;white-space:nowrap;transition:color .1s,background-color .1s;border-right:1px solid #333;overflow:hidden}.panel-tab-fill{position:absolute;left:0;top:0;height:100%;width:0%;background:linear-gradient(to right,#555,#444);pointer-events:none;transition:width .05s ease-out}.panel-tab-text{position:relative;z-index:1}.tab-drop-indicator{position:absolute;top:4px;bottom:4px;width:2px;background:#888;pointer-events:none;opacity:0;transition:opacity .1s;z-index:100}.tab-drop-indicator.visible{opacity:1}.panel-tab:hover{color:#ccc;background:#2a2a2a}.panel-tab.active{color:#fff;background:#1e1e1e;border-bottom:2px solid #888}.panel-content{flex:1;min-height:0;overflow:auto;position:relative}.panel-content::-webkit-scrollbar{width:6px;height:6px}.panel-content::-webkit-scrollbar-track{background:transparent}.panel-content::-webkit-scrollbar-thumb{background:#444}.panel-content::-webkit-scrollbar-thumb:hover{background:#555}.panel-title{padding:8px 12px;background:#252525;border-bottom:1px solid #333;font-size:12px;font-weight:500;color:#aaa;text-transform:uppercase;letter-spacing:.5px}.window-manager{display:flex;width:100%;height:100%;background:#1a1a1a;overflow:hidden}.split-container{display:flex;width:100%;height:100%;overflow:hidden}.split-horizontal{flex-direction:row}.split-vertical{flex-direction:column}.split-first,.split-second{overflow:hidden;min-width:0;min-height:0}.split-divider{flex-shrink:0;background:#333;z-index:10}.split-divider-horizontal{width:6px}.split-divider-vertical{height:6px}.divider.drop-enabled{z-index:200}.split-divider-horizontal .divider.drop-enabled{margin:0 -8px;padding:0 8px}.split-divider-vertical .divider.drop-enabled{margin:-8px 0;padding:8px 0}.divider.drop-hover{background:#888!important}.panel-container{width:100%;height:100%;overflow:hidden}.panel-title-bar{position:relative;display:flex;align-items:center;background:#252525;border-bottom:1px solid #333;flex-shrink:0;height:32px;overflow-x:auto;cursor:grab;-webkit-user-select:none;user-select:none}.panel-title-bar:active{cursor:grabbing}.panel-title-bar.has-tabs{cursor:default}.panel-title-bar.has-tabs .panel-tab{cursor:grab}.panel-title-bar.has-tabs .panel-tab:active{cursor:grabbing}.panel-title-bar::-webkit-scrollbar{height:4px}.panel-title-bar::-webkit-scrollbar-thumb{background:#444}.panel-title-fill{position:absolute;left:0;top:0;height:100%;width:0%;background:linear-gradient(to right,#555,#444);pointer-events:none;transition:width .05s ease-out}.panel-title-text{position:relative;z-index:1;padding:0 12px;font-size:12px;font-weight:500;color:#aaa;text-transform:uppercase;letter-spacing:.5px}.panel-drop-zones{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;display:none;z-index:100}.panel.drag-active .panel-drop-zones{display:block;pointer-events:auto}.drop-zone{position:absolute;background:#ffffff0d;transition:background-color .15s}.drop-zone.active{background:#ffffff26}.drop-zone-top{left:0;top:0;width:100%;height:20%}.drop-zone-bottom{left:0;bottom:0;width:100%;height:20%}.drop-zone-left{left:0;top:20%;width:20%;height:60%}.drop-zone-right{right:0;top:20%;width:20%;height:60%}.drop-zone-center{left:20%;top:20%;width:60%;height:60%}body.panel-dragging{cursor:grabbing!important;-webkit-user-select:none;user-select:none}body.panel-dragging *{cursor:grabbing!important}.drag-ghost{font-family:inherit}.panel-placeholder{display:flex;align-items:center;justify-content:center;width:100%;height:100%;color:#666;font-size:14px}.placeholder-text{padding:20px;text-align:center}.panel-context-menu{position:fixed;z-index:1000;min-width:120px;background:#2a2a2a;border:1px solid #444;box-shadow:0 4px 12px #0006;padding:4px 0}.context-menu-item{display:block;width:100%;padding:8px 16px;background:none;border:none;color:#ccc;font-size:13px;text-align:left;cursor:pointer;transition:background-color .1s}.context-menu-item:hover{background:#3a3a3a;color:#fff}.main-output{width:100%;height:100%;background:#000;overflow:hidden}.main-output canvas{width:100%;height:100%;display:block}.layer-panel{background:#1e1e1e;display:flex;flex-direction:column;height:100%;gap:0;transition:background .15s;overflow-y:auto}.layer-panel::-webkit-scrollbar{width:6px}.layer-panel::-webkit-scrollbar-track{background:transparent}.layer-panel::-webkit-scrollbar-thumb{background:#444}.layer-panel::-webkit-scrollbar-thumb:hover{background:#555}.layer-preview.drag-over{background:#2a3a4a}.layer-preview{width:100%;background:#1a1a1a;position:relative;overflow:hidden;flex-shrink:0}.layer-preview-canvas{width:100%;aspect-ratio:16 / 9;display:block;background:#1a1a1a}.layer-preview-empty{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#666;font-size:12px;pointer-events:none}.layer-controls{display:flex;flex-direction:column;flex-shrink:0}.layer-controls-row{display:flex;align-items:center;gap:0}.layer-visibility{display:flex;align-items:center;justify-content:center;cursor:pointer;flex-shrink:0;width:16px;height:16px;background:#2a2a2a;border:1px solid #444;border-right:none;position:relative;box-sizing:border-box}.layer-visibility:hover{background:#333;border-color:#555}.layer-visibility input{position:absolute;opacity:0;width:100%;height:100%;cursor:pointer;margin:0}.layer-visibility:before{content:"";width:10px;height:6px;border:1px solid #555;border-radius:50%;position:relative;pointer-events:none}.layer-visibility:after{content:"";width:3px;height:3px;background:#555;border-radius:50%;position:absolute;pointer-events:none}.layer-visibility:has(input:not(:checked)):before{border-color:#444}.layer-visibility:has(input:not(:checked)):after{background:#444;width:12px;height:1px;border-radius:0;transform:rotate(-45deg)}.layer-visibility:has(input:checked):before{border-color:#888}.layer-visibility:has(input:checked):after{background:#888}.layer-visibility:hover:before{border-color:#aaa}.layer-visibility:has(input:checked):hover:after{background:#aaa}.layer-visibility:has(input:not(:checked)):hover:after{background:#666}.blend-select{flex-shrink:0;position:relative;height:16px}.blend-select select{height:16px;background:#2a2a2a;color:#aaa;border:1px solid #444;border-left:none;border-right:none;padding:0 18px 0 6px;font-size:10px;cursor:pointer;appearance:none;-webkit-appearance:none;-moz-appearance:none;box-sizing:border-box}.blend-select:after{content:"â–¼";position:absolute;right:6px;top:50%;transform:translateY(-50%);font-size:7px;color:#666;pointer-events:none}.blend-select select:hover{background:#333;border-color:#555;color:#ccc}.blend-select select:focus{outline:none;border-color:#666}.layer-controls-row .opacity-slider-container{flex:1;min-width:0}.layer-controls-row .opacity-slider-container .slider-label{display:none}.sketch-controls{display:flex;flex-direction:column;gap:0}.sketch-controls-header{display:flex;align-items:center;gap:4px;height:16px;padding:0 6px;font-size:10px;color:#888;text-transform:uppercase;letter-spacing:.5px;cursor:pointer;-webkit-user-select:none;user-select:none;background:#252525}.sketch-controls-header:hover{color:#aaa}.sketch-controls-toggle{font-size:8px;width:12px;text-align:center;color:#666}.sketch-controls-header:hover .sketch-controls-toggle{color:#888}.sketch-controls-name{flex:1}.sketch-controls-body{display:flex;flex-direction:column;gap:0}.sketch-controls.collapsed .sketch-controls-body{display:none}.color-control{display:flex;align-items:center;justify-content:space-between;gap:6px;height:16px;font-size:10px;background:#2a2a2a;padding:0 6px}.color-control label{color:#ffffffb3;text-transform:uppercase;letter-spacing:.5px}.color-control input[type=color]{width:24px;height:12px;padding:0;border:1px solid #444;background:transparent;cursor:pointer}.color-control input[type=color]::-webkit-color-swatch-wrapper{padding:1px}.color-control input[type=color]::-webkit-color-swatch{border:none}.trigger-button{background:#3a3a3a;color:#e0e0e0;border:none;height:16px;padding:0 6px;font-size:10px;cursor:pointer;transition:background .1s,transform .05s;width:100%}.trigger-button:hover{background:#4a4a4a}.trigger-button:active{background:#888;transform:scale(.98)}.effects-section{display:flex;flex-direction:column;border-top:1px solid #333}.effects-header{display:flex;align-items:center;justify-content:space-between;height:16px;padding:0 6px;background:#1a1a1a}.effects-title{font-size:10px;color:#888;text-transform:uppercase;letter-spacing:.5px}.add-effect-btn{width:14px;height:14px;background:#3a3a3a;border:1px solid #555;color:#aaa;font-size:12px;line-height:1;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0}.add-effect-btn:hover{background:#4a4a4a;color:#fff;border-color:#666}.effects-list{display:flex;flex-direction:column;gap:0}.effect-item{display:flex;flex-direction:column;border-bottom:1px solid #2a2a2a;cursor:grab}.effect-item.dragging{opacity:.5;cursor:grabbing}.effect-item.drag-over-above{border-top:2px solid #9b59b6}.effect-item.drag-over-below{border-bottom:2px solid #9b59b6}.effect-header{display:flex;align-items:center;gap:4px;height:16px;padding:0 6px;font-size:10px;color:#888;cursor:pointer;-webkit-user-select:none;user-select:none;background:#252525}.effect-header:hover{background:#2a2a2a;color:#aaa}.effect-drag-handle{font-size:10px;color:#555;cursor:grab;padding:0 2px;letter-spacing:-2px}.effect-drag-handle:hover{color:#888}.effect-item.dragging .effect-drag-handle{cursor:grabbing}.effect-toggle{font-size:8px;width:12px;text-align:center;color:#666}.effect-header:hover .effect-toggle{color:#888}.effect-name{flex:1}.effect-enable{display:flex;align-items:center;justify-content:center;cursor:pointer}.effect-enable input{width:10px;height:10px;cursor:pointer;accent-color:#9b59b6}.effect-remove{width:14px;height:14px;background:transparent;border:none;color:#666;font-size:12px;line-height:1;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0}.effect-remove:hover{color:#ff6b6b}.effect-controls-body{display:flex;flex-direction:column;gap:0}.effect-item.collapsed .effect-controls-body{display:none}.slider{position:relative;height:16px;min-height:16px;flex-shrink:0;background:#2a2a2a;border:1px solid #444;border-left:none;cursor:ew-resize;-webkit-user-select:none;user-select:none;overflow:hidden;display:flex;align-items:center;justify-content:space-between;padding:0 6px;box-sizing:border-box}.slider:hover,.slider.dragging{background:#333}.slider-fill{position:absolute;top:0;left:0;height:100%;background:linear-gradient(to right,#888,#666);pointer-events:none;transition:width .05s ease-out}.slider.dragging .slider-fill{transition:none}.slider-label{position:relative;font-size:10px;color:#ffffffb3;text-transform:uppercase;letter-spacing:.5px;pointer-events:none;z-index:1;white-space:nowrap}.slider-value{position:relative;font-size:10px;font-weight:600;color:#fff;pointer-events:none;z-index:1}.slider.bound{cursor:not-allowed}.slider.bound .slider-fill{background:linear-gradient(to right,#9b59b6,#8e44ad)}.slider-binding-indicator{font-size:9px;color:#9b59b6;font-weight:400;text-transform:none}.control-context-menu{background:#2a2a2a;border:1px solid #444;min-width:180px;overflow:hidden;font-size:12px}.menu-label{padding:6px 12px;font-size:10px;color:#888;text-transform:uppercase;letter-spacing:.5px}.menu-item{padding:8px 12px;cursor:pointer;display:flex;align-items:center;gap:8px;color:#e0e0e0}.menu-item:hover,.menu-item.active{background:#3a3a3a}.menu-item.unbind{color:#e74c3c}.menu-item.unbind:hover{background:#e74c3c33}.menu-divider{height:1px;background:#444;margin:4px 0}.menu-empty{padding:12px;color:#888;font-size:11px;text-align:center}.signal-badge{width:18px;height:18px;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:600;color:#fff;flex-shrink:0}.signal-badge.type-lfo{background:#9b59b6}.signal-badge.type-microphone{background:#e74c3c}.signal-badge.type-beat{background:#f39c12}.signal-badge.type-midi{background:#3498db}.library{background:#1e1e1e;padding:8px;display:flex;flex-direction:column;gap:8px}.library-header{display:flex;flex-direction:column;gap:8px}.library-title{font-weight:600;font-size:14px;display:none}.library-filters{display:flex;gap:4px}.filter-btn{background:#333;border:1px solid #444;color:#aaa;padding:4px 8px;font-size:11px;cursor:pointer;transition:all .15s}.filter-btn:hover{background:#3a3a3a;color:#e0e0e0}.filter-btn.active{background:#888;border-color:#888;color:#fff}.library-list{flex:1;overflow-y:auto;display:flex;flex-wrap:wrap;gap:8px;align-content:flex-start;justify-content:center}.library-empty,.library-loading{color:#666;font-size:12px;text-align:center;padding:20px;width:100%}.library-item{display:flex;flex-direction:column;gap:4px;width:calc(50% - 4px);max-width:156px;cursor:grab;transition:transform .15s,opacity .15s}.library-item:hover{transform:scale(1.02)}.library-item:active{cursor:grabbing;opacity:.7}.library-item-thumbnail{position:relative;background:#1a1a1a;overflow:hidden;aspect-ratio:16 / 9}.library-item-thumbnail img{width:100%;height:100%;object-fit:cover;display:block}.library-item-placeholder{width:100%;height:100%;background:#333}.add-menu-container{position:fixed;top:12px;right:12px;z-index:500}.add-menu-button{width:32px;height:32px;background:#333;border:1px solid #444;color:#ccc;font-size:20px;line-height:1;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .15s,color .15s}.add-menu-button:hover,.add-menu-container.open .add-menu-button{background:#444;color:#fff}.add-menu-dropdown{position:absolute;top:100%;right:0;margin-top:4px;min-width:180px;background:#2a2a2a;border:1px solid #444;box-shadow:0 4px 12px #0006;opacity:0;visibility:hidden;transform:translateY(-8px);transition:opacity .15s,transform .15s,visibility .15s}.add-menu-container.open .add-menu-dropdown{opacity:1;visibility:visible;transform:translateY(0)}.add-menu-section{padding:4px 0}.add-menu-section-title{padding:6px 12px 4px;font-size:10px;font-weight:600;color:#666;text-transform:uppercase;letter-spacing:.5px}.add-menu-divider{height:1px;background:#444;margin:4px 0}.add-menu-item{display:flex;align-items:center;gap:10px;width:100%;padding:8px 12px;background:none;border:none;color:#ccc;font-size:13px;text-align:left;cursor:pointer;transition:background-color .1s}.add-menu-item:hover{background:#3a3a3a;color:#fff}.add-menu-item-icon{width:20px;text-align:center;font-size:14px}.add-menu-item-label{flex:1}.signal-pane{background:#1e1e1e;padding:6px;display:flex;flex-direction:column;gap:4px;overflow-y:auto}.signal-pane::-webkit-scrollbar{width:6px}.signal-pane::-webkit-scrollbar-track{background:transparent}.signal-pane::-webkit-scrollbar-thumb{background:#444}.signal-pane::-webkit-scrollbar-thumb:hover{background:#555}.signal-pane-error{color:#e74c3c;padding:16px;text-align:center}.signal-pane-header{display:flex;align-items:center;gap:8px}.signal-pane-value-bar{flex:1;height:8px;background:#2a2a2a;overflow:hidden}.signal-pane-value-fill{height:100%;background:linear-gradient(to right,#888,#666);transition:width .05s ease-out}.signal-pane-binding-count{font-size:10px;color:#9b59b6;white-space:nowrap}.signal-pane-config{display:flex;flex-direction:column;gap:2px}.signal-pane .config-row{display:flex;align-items:center;gap:6px;height:16px}.signal-pane .config-row label{font-size:10px;color:#aaa;min-width:60px}.signal-pane .config-row select{flex:1;background:#333;color:#e0e0e0;border:1px solid #444;padding:0 6px;height:16px;font-size:10px;cursor:pointer}.signal-pane .config-row select:hover{background:#3a3a3a}.signal-pane .config-row.checkbox label{display:flex;align-items:center;gap:4px;cursor:pointer;min-width:auto;font-size:10px}.signal-pane .config-row.checkbox input{cursor:pointer;width:10px;height:10px}.signal-pane .midi-learn-container,.signal-pane .gamepad-learn-container{display:flex;flex-direction:column;gap:4px;padding:6px;background:#2a2a2a}.signal-pane .midi-learn-message,.signal-pane .gamepad-learn-message{font-size:10px;color:#aaa;text-align:center;animation:pulse 1.5s infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.signal-pane .midi-learn-btn,.signal-pane .gamepad-learn-btn{background:#3a3a3a;color:#e0e0e0;border:1px solid #555;padding:4px 8px;height:16px;font-size:10px;cursor:pointer}.signal-pane .midi-learn-btn:hover,.signal-pane .gamepad-learn-btn:hover{background:#4a4a4a}.signal-pane .midi-learn-hint,.signal-pane .gamepad-learn-hint{font-size:10px;color:#666;text-align:center}.signal-pane .midi-cancel-btn,.signal-pane .gamepad-cancel-btn{background:#333;color:#aaa;border:1px solid #444;padding:2px 8px;height:16px;font-size:10px;cursor:pointer}.signal-pane .midi-cancel-btn:hover,.signal-pane .gamepad-cancel-btn:hover{background:#3a3a3a;color:#e0e0e0}.signal-pane .midi-learned-info,.signal-pane .gamepad-learned-info{display:flex;gap:8px;padding:4px 6px;background:#2a2a2a;font-size:10px}.signal-pane .midi-learned-label,.signal-pane .gamepad-learned-label{color:#e0e0e0;font-weight:500}.signal-pane .midi-learned-channel,.signal-pane .gamepad-learned-device{color:#888}.signal-pane .midi-relearn-btn,.signal-pane .gamepad-relearn-btn{background:#333;color:#aaa;border:1px solid #444;padding:2px 8px;height:16px;font-size:10px;cursor:pointer;margin-top:2px}.signal-pane .midi-relearn-btn:hover,.signal-pane .gamepad-relearn-btn:hover{background:#3a3a3a;color:#e0e0e0}
